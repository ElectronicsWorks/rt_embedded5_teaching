<!DOCTYPE HTML>

<!--Converted with LaTeX2HTML 2019.2 (Released June 5, 2019) -->
<HTML lang="EN">
<HEAD>
<TITLE>General recommendations how to write your C++ classes for devices</TITLE>
<META NAME="description" CONTENT="General recommendations how to write your C++ classes for devices">
<META NAME="keywords" CONTENT="realtime_embedded_coding">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="viewport" CONTENT="width=device-width, initial-scale=1.0">
<META NAME="Generator" CONTENT="LaTeX2HTML v2019.2">

<LINK REL="STYLESHEET" HREF="realtime_embedded_coding.css">

<LINK REL="next" HREF="node5.html">
<LINK REL="previous" HREF="node3.html">
<LINK REL="next" HREF="node5.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A
 HREF="node5.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="node2.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="node3.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html73"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A
 HREF="node5.html">Low level userspace device</A>
<B> Up:</B> <A
 HREF="node2.html">Writing C++ device driver</A>
<B> Previous:</B> <A
 HREF="node3.html">Introduction</A>
 &nbsp; <B>  <A ID="tex2html74"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H1><A ID="SECTION00220000000000000000">
General recommendations how to write your C++ classes for devices</A>
</H1>
As said above the main purpose of object oriented coding here is to
hide away the complexity of low level driver access and offer the
client a simple and safe way of connecting to the sensor. In particular:

<OL>
<LI>Getters, setters and callbacks hand over <SPAN  CLASS="textsl">physical units</SPAN>
  (temperature, acceleration, ...) and not
  raw integer values which have no meaning.
</LI>
<LI>The sensor is configured by specifying physical units (time, voltage,
  temperature) and not sensor registers. Default values should be
  specified that it can start with little knowledge of the internals.
</LI>
<LI>The class handles the realtime processing by offering callback
  interfaces to receive from and methods to transmit data to the sensor.
</LI>
<LI>The class is re-usable outwith of your specific project and has
  its own cmake project (for example in a subdirectory), i.e. is a
  library. It has docstrings for all public functions and constants
  and has documentation generated by doxygen.
</LI>
</OL>

<P>
Keep SOLID in mind when writing your C++ device classes:

<OL>
<LI><SPAN  CLASS="textsl">Single responsibility</SPAN>: If you have a temperature
sensor and an accelerometer then write two classes, one for the
temperature sensor and one of the accelerometer. In terms of
</LI>
<LI><SPAN  CLASS="textsl">Open-Closed principle and Dependency Inversion Principle</SPAN>:
  Think what both sensors have
in common and create a base class which inherits its functionality.
For example if both sensors are SPI based you could have the basic
SPI management in the base class and then the temperature sensor
and accelerometer inherits it.
</LI>
<LI><SPAN  CLASS="textsl">Interface Segregation Principle</SPAN>: Do not force
  a client to implement an abstract method and make it optional.
  Instead of adding an abstract callback to your sensor class itself
  rather add a method where the client can register and unregister
  the callback.
</LI>
</OL>

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A
 HREF="node5.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="node2.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="node3.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html73"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A
 HREF="node5.html">Low level userspace device</A>
<B> Up:</B> <A
 HREF="node2.html">Writing C++ device driver</A>
<B> Previous:</B> <A
 HREF="node3.html">Introduction</A>
 &nbsp; <B>  <A ID="tex2html74"
  HREF="node1.html">Contents</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
<p><br /><a href="https://github.com/berndporr/rt_embedded5_teaching/">github / contact</a><br /></p>
</ADDRESS>
</BODY>
</HTML>
