<!DOCTYPE HTML>

<!--Converted with LaTeX2HTML 2019.2 (Released June 5, 2019) -->
<HTML lang="EN">
<HEAD>
<TITLE>Introduction</TITLE>
<META NAME="description" CONTENT="Introduction">
<META NAME="keywords" CONTENT="realtime_embedded_coding">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="viewport" CONTENT="width=device-width, initial-scale=1.0">
<META NAME="Generator" CONTENT="LaTeX2HTML v2019.2">

<LINK REL="STYLESHEET" HREF="realtime_embedded_coding.css">

<LINK REL="next" HREF="node4.html">
<LINK REL="previous" HREF="node2.html">
<LINK REL="next" HREF="node4.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A
 HREF="node4.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="node2.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="node2.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html97"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A
 HREF="node4.html">General recommendations how to</A>
<B> Up:</B> <A
 HREF="node2.html">Writing C++ device driver</A>
<B> Previous:</B> <A
 HREF="node2.html">Writing C++ device driver</A>
 &nbsp; <B>  <A ID="tex2html98"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H1><A ID="SECTION00210000000000000000">
Introduction</A>
</H1>
Fig.&nbsp;<A HREF="node2.html#timing">1.1</A> shows the basic dataflow and how event timing is
established. While it's obvious that data needs to flow from/to the
hardware it's even more important to guarantee its timing in realtime
applications. On the hardware-side the timing is guaranteed by event
signals, data-ready signals and also by the timing of a serial
interface. The Linux kernel translates this timing info into blocking
I/O on pseudo filesystems such as /dev or /sys which means that a read
operation blocks till data has arrived or an event has happened. Some
low level libraries such as pigpio translate them back into C
callbacks.  Your task is to hide this complexity and these quite
different approaches in C++ classes which communicate via callbacks
and setters with the client classes.

<P>

<DIV class="CENTER"><A ID="gettersetters"></A><A ID="189"></A>
<TABLE>
<CAPTION class="BOTTOM"><STRONG>Figure 1.2:</STRONG>
A realtime system with two C++ classes. Communication
  between classes is achieved with callbacks (not getters) for incoming events
  and setters to send out control events. The control output itself
  receives its timing from the events so that the loop is traversed
  as quickly as possible.
</CAPTION>
<TR><TD>
<DIV class="CENTER">
<IMG STYLE=""
 SRC="img2.svg"
 ALT="\includegraphics[width=\textwidth]{gettersetters}">

</DIV></TD></TR>
</TABLE>
</DIV>
Fig.&nbsp;<A HREF="#gettersetters">1.2</A> shows the overall communication between C++
classes in a realtime system. This communication is done via callbacks
(<SPAN  CLASS="textsl">not</SPAN> getters) and setters where an event from a sensor
traverses according to its realtime requirements through the classes via
callbacks and then back to the control output via setters. For example
a collision sensor at a robot triggers a GPIO pin, which then triggers a
callback to issue an avoidance action which in turn then sets the
motors in reverse.

<P>
This chapter focuses on writing your own C++ device driver class
hiding away the complexity (and messy) low level C APIs and/or raw
device access to /dev and /sys.

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A
 HREF="node4.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="node2.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="node2.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html97"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A
 HREF="node4.html">General recommendations how to</A>
<B> Up:</B> <A
 HREF="node2.html">Writing C++ device driver</A>
<B> Previous:</B> <A
 HREF="node2.html">Writing C++ device driver</A>
 &nbsp; <B>  <A ID="tex2html98"
  HREF="node1.html">Contents</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
<p><br /><a href="https://github.com/berndporr/rt_embedded5_teaching/">github / contact</a><br /></p>
</ADDRESS>
</BODY>
</HTML>
